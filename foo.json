[[{"returns":[[{"err":[null,null],"out":[null,null],"throw":true,"nodes":[{"name":"spock","connector":"flax-lxc-connector.core","options":{"clone":"ubuntu-base","retry":100,"delay":100},"force":false}]}],[{"exit":0,"err":{"keys":[null,null],"value":""},"out":{"keys":[null,null],"value":""},"throw":true,"nodes":[{"name":"spock"}],"invocation":"mkdir -p ~/.ssh"}],[{"exit":1,"err":{"keys":[null,null],"value":""},"out":{"keys":[null,null],"value":""},"throw":true,"nodes":[{"name":"spock"}],"invocation":"exit 1"}],[{"exit":0,"err":{"keys":[null,null],"value":""},"out":{"keys":[null,null],"value":"Reading package lists...\nBuilding dependency tree...\nReading state information...\ndnsutils is already the newest version.\n0 upgraded, 0 newly installed, 0 to remove and 23 not upgraded."},"throw":true,"nodes":[{"name":"spock"}],"invocation":"apt-get -y install dnsutils"}],[{"exit":0,"err":{"keys":[null,null],"value":""},"throw":true,"nodes":[{"name":"spock","out":"PUBLIC_IP"}],"out":{"keys":["LIST_OF_IPS","PUBLIC_IP"],"value":"50.242.210.67"},"invocation":"dig +short myip.opendns.com @resolver1.opendns.com"}],[{"exit":null,"err":{"keys":[null,null],"value":""},"out":{"keys":[null,null],"value":"Generating public/private rsa key pair.\n/home/vagrant/.ssh/flax_id_rsa already exists.\nOverwrite (y/n)? "},"nodes":[{"name":"spock"}],"throw":false,"invocation":"echo -e \"\\n\\n\\n\" | ssh-keygen -t rsa -N \"\" -f ~/.ssh/flax_id_rsa"}],[{"exit":0,"err":{"keys":[null,null],"value":""},"out":{"keys":[null,"SSH_PRIVATE_KEY"],"value":"-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEA29w7P+wrhGziNUSUNZoK+stRU2vXfrEplymAY8ot0pO+EdDk\nOIwPVdGu6N1jQSysJ71cRBOvk7jwvppJepg9LzIOXjN2QZ5OCdKaWmgAFUW4tGvh\nFsX8U4H8r6ngdwP1mMfUwBpH8tkfzLe8dP7B2mRXIY5JnPfKH5eRrorqhLIL6Mrz\n0IlPlV6jgrI3O8E/8i9ILF2Lo20yxYgPS5MKaM+hVWyl8WwybzGT/yhwvkbjuwio\noCJRN36mspXaYwD/TsF/y7nuZvjUyA2YigRq9v5pP66S+r/fvHo0g3GFRnKC7pFV\ninhJMvR0s88fxihY871MwqugG+4RQHAErZlr9wIDAQABAoIBABL6Up706ti2cVw5\nvDVYQ6RcUnvJ7kMAVd+3dF6owAXSPPDawChlZpl4zQlKutuQWJfhj4pMzLYKm7VI\nKhmL9JQTVQwqkwWc/Y15gVtWaNNtPkFMopRNqLconEApgLelPtjePu4KFrXOqiEI\npxrONrt8N80stAv5k5fghHG1igLEFqISHW9ausB1F44HyyZqJxmTMGfVVezqqRr7\nzz8y3DzdI7FTyqrkUFH5D39TRrM7REng76Om7rA2CCSqn68HCkoI5PS6r7vaG6cb\npuEKIig4ntwdd1Hx1Ei5Okr4/FU+bOnlsc9kPSDjULSPbMdoeOj0vSIzhJIDueW1\nRcQ8S+kCgYEA+dC98Q4pESXuoLaCNi4K7WSUHc/NJGIDZ8ejM7u5ZhuWaCZc3qJ4\n3rmlSO2YVS+FUQ1Q3G1WYWTNQ9PLR2OtlcDUg0dtQh1iNXsrp5j0chFgO5gDLGzh\nwXcmR7gMV3XC93MfI/54pJnFpnCopp2xEd02VA5mn2HetlT087EBAksCgYEA4U2k\nf0awszoAAe6nsSBMOX60X2XaUEFXa0BI8sbUGeIXTZ4MBdFq7D8OgxM/X7tgtOI/\nTxc2FiV5e129BwsmR7OF8bfcD5hKqezXK+A6OvOFVJXHku3vNrpgO7U1VP6VeLuL\nAXvLqxBcZQIGPMCBwxviECX2aFVnA/fIM88c0YUCgYA2PA9AiiZ4Rpfr5DOYt54/\ns5pEbpzGzVCX80uHK7YwaMTaj5mR7Av5rqwnjQ2JUOvMkOuBL2uVcWDu3MhBE27Y\nGCkK5zLdK6vqmHb9x8MqEIOn7HSj7G+GpOt2nopvYm2VczTLh6+BbLDwVX0Hzyxm\nCHSHAylcaM8FHqSfU0o4yQKBgQCOiAPs0NewSpz+m/BSSdBu/w003MaDxxJ6syxz\nCf3ccf+0BqwschNmaW3Q1jhdY7kGNas/abu5vvNfbCnNbuxEp/mwtVPuObXiUga9\npxiveqd6n1amSQfwY2/F1hlrL7N3sY163so16h/JdsJjZJWyzMzy0lFUJ9MH25U3\n0Wq10QKBgQCEX+WuxgG7mzcaceJsX2Hc/j0wvfphJJdvJTMeyjpWUBIgN7Stlzax\n6f1sN8yBR54vzb0gowvhI2eUx3pmi0DvDxPh+vbBiURDZ3LAn3MMkAdYNdqzuANk\nwduGYZ2kXhVeZ9egk+QC/w8OppdKPn7SCOAJnLB71uWlCf1Jl10HNw==\n-----END RSA PRIVATE KEY-----"},"throw":true,"nodes":[{"name":"spock","out":"SSH_PRIVATE_KEY"}],"invocation":"cat ~/.ssh/flax_id_rsa","log":false}]],"env":{"SSH_PRIVATE_KEY":"-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEA29w7P+wrhGziNUSUNZoK+stRU2vXfrEplymAY8ot0pO+EdDk\nOIwPVdGu6N1jQSysJ71cRBOvk7jwvppJepg9LzIOXjN2QZ5OCdKaWmgAFUW4tGvh\nFsX8U4H8r6ngdwP1mMfUwBpH8tkfzLe8dP7B2mRXIY5JnPfKH5eRrorqhLIL6Mrz\n0IlPlV6jgrI3O8E/8i9ILF2Lo20yxYgPS5MKaM+hVWyl8WwybzGT/yhwvkbjuwio\noCJRN36mspXaYwD/TsF/y7nuZvjUyA2YigRq9v5pP66S+r/fvHo0g3GFRnKC7pFV\ninhJMvR0s88fxihY871MwqugG+4RQHAErZlr9wIDAQABAoIBABL6Up706ti2cVw5\nvDVYQ6RcUnvJ7kMAVd+3dF6owAXSPPDawChlZpl4zQlKutuQWJfhj4pMzLYKm7VI\nKhmL9JQTVQwqkwWc/Y15gVtWaNNtPkFMopRNqLconEApgLelPtjePu4KFrXOqiEI\npxrONrt8N80stAv5k5fghHG1igLEFqISHW9ausB1F44HyyZqJxmTMGfVVezqqRr7\nzz8y3DzdI7FTyqrkUFH5D39TRrM7REng76Om7rA2CCSqn68HCkoI5PS6r7vaG6cb\npuEKIig4ntwdd1Hx1Ei5Okr4/FU+bOnlsc9kPSDjULSPbMdoeOj0vSIzhJIDueW1\nRcQ8S+kCgYEA+dC98Q4pESXuoLaCNi4K7WSUHc/NJGIDZ8ejM7u5ZhuWaCZc3qJ4\n3rmlSO2YVS+FUQ1Q3G1WYWTNQ9PLR2OtlcDUg0dtQh1iNXsrp5j0chFgO5gDLGzh\nwXcmR7gMV3XC93MfI/54pJnFpnCopp2xEd02VA5mn2HetlT087EBAksCgYEA4U2k\nf0awszoAAe6nsSBMOX60X2XaUEFXa0BI8sbUGeIXTZ4MBdFq7D8OgxM/X7tgtOI/\nTxc2FiV5e129BwsmR7OF8bfcD5hKqezXK+A6OvOFVJXHku3vNrpgO7U1VP6VeLuL\nAXvLqxBcZQIGPMCBwxviECX2aFVnA/fIM88c0YUCgYA2PA9AiiZ4Rpfr5DOYt54/\ns5pEbpzGzVCX80uHK7YwaMTaj5mR7Av5rqwnjQ2JUOvMkOuBL2uVcWDu3MhBE27Y\nGCkK5zLdK6vqmHb9x8MqEIOn7HSj7G+GpOt2nopvYm2VczTLh6+BbLDwVX0Hzyxm\nCHSHAylcaM8FHqSfU0o4yQKBgQCOiAPs0NewSpz+m/BSSdBu/w003MaDxxJ6syxz\nCf3ccf+0BqwschNmaW3Q1jhdY7kGNas/abu5vvNfbCnNbuxEp/mwtVPuObXiUga9\npxiveqd6n1amSQfwY2/F1hlrL7N3sY163so16h/JdsJjZJWyzMzy0lFUJ9MH25U3\n0Wq10QKBgQCEX+WuxgG7mzcaceJsX2Hc/j0wvfphJJdvJTMeyjpWUBIgN7Stlzax\n6f1sN8yBR54vzb0gowvhI2eUx3pmi0DvDxPh+vbBiURDZ3LAn3MMkAdYNdqzuANk\nwduGYZ2kXhVeZ9egk+QC/w8OppdKPn7SCOAJnLB71uWlCf1Jl10HNw==\n-----END RSA PRIVATE KEY-----","LIST_OF_IPS":["50.242.210.67"],"PUBLIC_IP":"50.242.210.67"}},{"returns":[[{"exit":128,"err":{"keys":[null,null],"value":"Cloning into 'ripcord'...\nHost key verification failed.\nfatal: Could not read from remote repository.\n\nPlease make sure you have the correct access rights\nand the repository exists.\n/bin/bash: line 3: cd: ripcord: No such file or directory\nfatal: Not a git repository (or any of the parent directories): .git\nfatal: Not a git repository (or any of the parent directories): .git\nfatal: Not a git repository (or any of the parent directories): .git\nfatal: Not a git repository (or any of the parent directories): .git\nfatal: Not a git repository (or any of the parent directories): .git"},"out":{"keys":[null,null],"value":""},"throw":true,"nodes":[{"name":"spock"}],"description":"Clone the ripcord repository (containing the spock source) for the branch \"\" onto the node \"spock\".\n","invocation":"if [ ! -d ripcord ]; then\n        git clone git@github.com:riptano/ripcord.git\nfi\ncd ripcord\ngit clean -xfd\ngit fetch origin\ngit checkout \ngit pull origin \ngit submodule update --init\n"}],[{"exit":127,"err":{"keys":[null,null],"value":"/bin/bash: line 0: cd: ripcord/spock: No such file or directory\ncp: cannot stat ‘./test/functional/log4.ftest.properties’: No such file or directory\n/bin/bash: line 3: lein: command not found"},"out":{"keys":[null,null],"value":""},"throw":true,"nodes":[{"name":"spock"}],"description":"Copies the log4j settings to the resources directory so that it's on the classpath,  creates a temporary directory to store spock-related artifacts, and  builds the spock service as a jar including all of its dependencies.\n","invocation":"cd ripcord/spock\ncp ./test/functional/log4.ftest.properties ./resources/log4j.properties\nmkdir -p /var/tmp/spock\nlein uberjar\n"}],[{"exit":0,"err":{"keys":[null,null],"value":""},"out":{"keys":[null,"SPOCK_PUBLIC_IP"],"value":"50.242.210.67"},"throw":true,"nodes":[{"name":"spock","out":"SPOCK_PUBLIC_IP"}],"description":"Grabs the public ip address of the node running spock.","invocation":"dig +short myip.opendns.com @resolver1.opendns.com"}],[{"exit":1,"err":{"keys":[null,null],"value":""},"out":{"keys":[null,null],"value":"No process in pidfile '/var/tmp/spock/spock.pid' found running; none killed."},"throw":true,"nodes":[{"name":"spock"}],"description":"Kills running spock instances, drops/recreates the database, and restarts the spock daemon\n","invocation":"start-stop-daemon --stop --pidfile /var/tmp/spock/spock.pid\npkill -f spock\nrm -f /var/tmp/spock/spock.db\ncd ripcord/spock\ncp ./test/functional/log4j.ftest.properties ./resources/log4j.properties\nsed -i 's/.*node.callback-address=.*/node.callback-address=http:\\/\\/:8889/' ./test/functional/spock.properties\nstart-stop-daemon --start --name spock -m --pidfile /var/tmp/spock/spock.pid --background --exec /bin/bash -- \\\n    -c 'cd ~/ripcord/spock\n        java -Dspock.configuration=./test/functional/spock.properties \\\n            -jar ./target/spock-0.1.0-SNAPSHOT-standalone.jar http serve'\n"}],["~/ripcord/spock/test/functional/smoketests/smoke-test.sh :8889/api/ 20 2"],["~/ripcord/spock/test/functional/smoketests/smoke-test.py "]],"env":{"SPOCK_PUBLIC_IP":"50.242.210.67"}}]]